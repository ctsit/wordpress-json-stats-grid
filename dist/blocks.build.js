!function(e){function t(a){if(n[a])return n[a].exports;var r=n[a]={i:a,l:!1,exports:{}};return e[a].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var n={};t.m=e,t.c=n,t.d=function(e,n,a){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:a})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=0)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});n(1)},function(e,t,n){"use strict";function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e){return fetch(e).then(function(e){return e.json()}).then(function(e){if(e.success&&e.data&&1===e.data.length)return e.data})}function l(e){return e.stats?Object.keys(e.stats).map(function(t){return wp.element.createElement(React.Fragment,null,wp.element.createElement(p,{label:t,help:"Text that will appear after this metric",value:e.fieldNames[t],onChange:function(n){return e.onChange("fieldNames",{newValue:n,key:t})}}),wp.element.createElement(p,{label:"Icon for "+t,value:e.fieldIcons[t],onChange:function(n){return e.onChange("fieldIcons",{newValue:n,key:t})}}))}):"Please enter a valid URL"}function o(e){try{return e.hasOwnProperty("stats")?Object.keys(e.fieldNames).map(function(t){return wp.element.createElement(React.Fragment,null,wp.element.createElement("style",{dangerouslySetInnerHTML:{__html:"#"+t+"::before{\n\t\t\t\t\t\tvertical-align: middle;\n\t\t\t\t\t}"}}),wp.element.createElement("div",{class:"grid-item dashicons-before "+e.icons[t],id:t},e.stats[t]," ",e.fieldNames[t]," "))}):Object.keys(e.fieldNames).map(function(t){return wp.element.createElement(React.Fragment,null,wp.element.createElement("style",{dangerouslySetInnerHTML:{__html:"#"+t+"::before{\n\t\t\t\t\t\tvertical-align: middle;\n\t\t\t\t\t}"}}),wp.element.createElement("div",{class:"grid-item dashicons-before "+e.icons[t],id:t},e.fieldNames[t]," "))})}catch(e){return"Please enter a valid URL"}}var c=n(2),i=(n.n(c),n(3)),__=(n.n(i),wp.i18n.__),s=wp.blocks.registerBlockType,m=wp.editor.InspectorControls,u=wp.components,d=u.PanelBody,p=(u.PanelRow,u.TextControl),f=u.ColorPalette,b=[{name:"blueLightest",color:"#C7DFFA"},{name:"blueLight",color:"#3A8FEE"},{name:"blueNormal",color:"#0F5CB1"},{name:"blueDark",color:"#0B4484"},{name:"blueDarkest",color:"#072C55"},{name:"navyLightest",color:"#305DB0"},{name:"navyLight",color:"#254888"},{name:"navyNormal",color:"#15284C"},{name:"navyDark",color:"#0F1D38"},{name:"navyDarkest",color:"#091120"},{name:"slateLightest",color:"#D7DEEA"},{name:"slateLight",color:"#A1B1CE"},{name:"slateNormal",color:"#506A9A"},{name:"slateDark",color:"#3F5379"},{name:"slateDarkest",color:"#2A3750"},{name:"grayLightest",color:"#F6FBFC"},{name:"grayLight",color:"#C2CBD6"},{name:"grayNormal",color:"#758AA4"},{name:"grayDark",color:"#46566A"},{name:"grayDarkest",color:"#313C4A"},{name:"orangeLight",color:"#EE7936"},{name:"orangeNormal",color:"#ED6B21"},{name:"orangeDark",color:"#CF4B00"},{name:"whiteFull",color:"#FFFFFF"},{name:"blackFull",color:"#000000"},{name:"transparent",color:"transparent"}];s("cgb/block-redcap-stats-plugin",{title:__("JSON Stats Grid"),icon:"chart-line",category:"common",keywords:[__("redcap-stats-plugin \u2014 CGB Block"),__("CGB Example"),__("create-guten-block")],attributes:{endpoint:{type:"string",default:""},stats:{type:"object"},fieldNames:{type:"object",default:{}},fieldIcons:{type:"object",default:{}},bgColor:{type:"string",default:""},textColor:{type:"string",default:""}},edit:function(e){function t(t){e.setAttributes({endpoint:t}),r(t).then(function(t){e.setAttributes({stats:t[0]})})}function n(t,n){var r=n.key,l=n.newValue;try{var o=Object.assign({},e.attributes[""+t]);""===l?delete o[r]:o[r]=l,e.setAttributes(a({},t,o))}catch(n){console.log(n),e.setAttributes(a({},t,{}))}}return[wp.element.createElement(m,null,wp.element.createElement(d,{title:"Set Block Color",icon:"admin-appearance"},wp.element.createElement(f,{label:"label",colors:b,value:e.attributes.bgColor,onChange:function(t){return e.setAttributes({bgColor:t})}})),wp.element.createElement(d,{title:"Set Text Color",icon:"admin-customizer"},wp.element.createElement(f,{colors:b,value:e.attributes.textColor,onChange:function(t){return e.setAttributes({textColor:t})}})),wp.element.createElement(d,{title:"Set Field Names & Icons",icon:"edit"},wp.element.createElement(l,{stats:e.attributes.stats,fieldNames:e.attributes.fieldNames,fieldIcons:e.attributes.fieldIcons,onChange:n}))),wp.element.createElement(React.Fragment,null,wp.element.createElement(p,{label:"API endpoint",help:"The URL for your JSON data",value:e.attributes.endpoint,onChange:t}),wp.element.createElement("div",{className:e.className,style:{backgroundColor:e.attributes.bgColor,color:e.attributes.textColor}},wp.element.createElement("p",{hidden:!0,id:"expose-endpoint-hack"},e.attributes.endpoint),wp.element.createElement("div",{id:"rcmetrics"},wp.element.createElement(o,{fieldNames:e.attributes.fieldNames,stats:e.attributes.stats,icons:e.attributes.fieldIcons}))))]},save:function(e){return wp.element.createElement(React.Fragment,null,wp.element.createElement("div",{className:e.className,style:{backgroundColor:e.attributes.bgColor,color:e.attributes.textColor}},wp.element.createElement("p",{hidden:!0,id:"expose-endpoint-hack"},e.attributes.endpoint),wp.element.createElement("div",{id:"rcmetrics"},wp.element.createElement(o,{fieldNames:e.attributes.fieldNames,icons:e.attributes.fieldIcons}))))}})},function(e,t){},function(e,t){}]);